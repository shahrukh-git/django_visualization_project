{% extends 'myapp/base.html' %}
{% block content %}
    <div class="row mt-3 pt-3">
        <div class="col-sm-4">
            <div class="border p-3 shadow">
                <h4>Open Interest</h4>
                <hr> 
                <form action="" method="POST">
                    {% csrf_token %}
                    <select name="name" id="">
                    <option value="RELIANCE">RELIANCE</option>
                    <option value="NIFTY">NIFTY</option>
                    <option value="SBIN">SBIN</option>
                    </select>
                    <input type="submit" class="btn btn-danger", value='Submit'>
                </form>
            </div>
        </div>
        <div class="col-sm-8">
            
            <canvas id="myChart" width="400" height="300"></canvas>
        <script>
            var ctx = document.getElementById('myChart').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: {{strike}},
                    datasets: [{
                        label: 'Call IO',
                        data: {{calloi}},
                        backgroundColor: [
                            'rgba(900, 10, 10, 1)',
                        ],
                        borderColor: [
                            'rgba(900, 10, 10, 1)',
                        ],
                        borderWidth: 1
                    },  
                    {
                        label: 'Put IO',
                        data: {{putoi}},
                        backgroundColor: [
                            'rgba(2, 900, 2, 1)',
                        ],
                        borderColor: [
                            'rgba(2, 900, 2, 1)',
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        </script>
        </div>
    </div>
{% endblock content %}